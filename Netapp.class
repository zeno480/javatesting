import java.util.*;
import java.net.*;
import java.awt.*;
import java.applet.*;
import javax.swing.*;
import javax.swing.event.*;

public class Netapp extends JApplet {

	private HashMap<String, URL> websiteInfo;
	private ArrayList<String> titles;
	private JList mainList;
	
	public void init(){
		websiteInfo = new HashMap<String, URL>();
		titles = new ArrayList<String>();
		mainList = new JList<>(titles.toArray());
		
		
		getHTMLInfo();
		
		add(new JLabel("Where do you want to go?"), BorderLayout.NORTH);
		
		mainList.addListSelectionListener(
				new ListSelectionListener(){
					public void valueChanged(ListSelectionEvent e){
						URL landing = websiteInfo.get(mainList.getSelectedValue());
						AppletContext browser = getAppletContext();
						browser.showDocument(landing);		
					}
				}
							);
		
		add(new JScrollPane(mainList),BorderLayout.CENTER);
	}
	
	public void getHTMLInfo(){
		String address;
		String title;
		URL urlo;
		int counter = 0;
		
		title = getParameter("title"+counter);
		
		while(title != null){
			address = getParameter("go"+counter);
			try{
				titles.add(title);
				urlo = new URL(address);
				websiteInfo.put(title, urlo);
			}catch(MalformedURLException urlException){
				urlException.printStackTrace();
			}
			++counter;
			title = getParameter("title"+counter);
		}
	}
	
}
